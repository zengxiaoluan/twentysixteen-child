{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?dd68","webpack:///./src/App.vue","webpack:///src/components/TitleBar.vue","webpack:///./src/components/TitleBar.vue?728d","webpack:///./src/components/TitleBar.vue","webpack:///src/components/content-view.vue","webpack:///./src/components/content-view.vue?7f8b","webpack:///./src/components/content-view.vue","webpack:///src/components/MenuBar.vue","webpack:///./src/components/MenuBar.vue?381f","webpack:///./src/components/MenuBar.vue","webpack:///src/Ebook.vue","webpack:///./src/Ebook.vue?47d5","webpack:///./src/Ebook.vue","webpack:///src/Home.vue","webpack:///./src/Home.vue?24a4","webpack:///./src/Home.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["App","name","mounted","html","document","querySelector","fontSize","window","innerWidth","style","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","TitleBar","props","ifTitleAndMenuShow","type","Boolean","default","methods","goHome","$router","push","components_TitleBar","_vm","directives","rawName","value","expression","staticClass","staticStyle","cursor","on","click","_v","src_components_TitleBar","TitleBar_normalizeComponent","content_view","navigation","Object","ifShowContent","bookAvailable","jumpTo","target","$emit","components_content_view","_l","item","index","key","$event","href","_s","label","MenuBar","components","contentView","content_view_normalizeComponent","fontSizeList","Array","defaultFontSize","Number","themeList","defaultTheme","data","ifSettingShow","showTag","progress","showSetting","tag","hideSetting","setFontSize","setTheme","onProgressInput","$refs","backgroundSize","onProgressChange","hideContent","components_MenuBar","class","hide-box-shadow","length","no-border","body","background","selected","ref","max","min","step","disabled","domProps","change","input","_e","Ebook","MenuBar_normalizeComponent","currentBookName","color","showEpub","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","bookName","arrayBuffer","readBox","cfi","wrap","_context","prev","next","book","src","$route","query","localforage_default","getItem","sent","alert","getElementById","open","rendition","renderTo","width","offsetWidth","height","offsetHeight","allowScriptedContent","display","themes","registerTheme","ready","then","locations","generate","result","listenIframeEvent","stop","_this2","frame","frames","clicked","console","log","addEventListener","e","toggleTitleAndMenu","prevPage","_this3","_callee2","_context2","updateCfi","nextPage","_this4","_callee3","_context3","menuBar","_this5","forEach","theme","register","select","percentage","location","cfiFromPercentage","hideTitleAndMenu","_this6","_callee4","_context4","cfiString","currentLocation","start","replace","_this7","setTimeout","keyCode","which","selectortype_template_index_0_src_Ebook","src_Ebook","Ebook_normalizeComponent","Home","allBooks","i","keys","renderBook","readThisBook","path","_ref","openBook","bookData","fromdb","setItem","reload","_x","apply","arguments","file","files","reader","FileReader","onload","readAsArrayBuffer","selectortype_template_index_0_src_Home","src_Home","Home_normalizeComponent","Vue","use","Router","router","routes","component","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.d665088e1aedcb9ec192.js","sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n\n  mounted() {\n    const html = document.querySelector('html');\n    let fontSize = window.innerWidth / 10;\n    fontSize = fontSize > 50 ? 50 : fontSize;   //设置最大字体为50px\n    html.style.fontSize = fontSize + 'px';\n  },\n}\n\n\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  /* margin-top: 60px; */\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-020aa451\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-020aa451\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-020aa451\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <transition name=\"slide-down\">\n    <div class=\"title-wrapper\" v-show=\"ifTitleAndMenuShow\">\n      <div @click=\"goHome\" class=\"left\" style=\"cursor:pointer\">\n        <span class=\"iconfont icon\">&#xe617;</span>\n      </div>\n      <div class=\"right\">\n        <div class=\"icon-wrapper icon\">\n          <span class=\"iconfont\">&#xe61d;</span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"iconfont icon\">&#xe63a;</span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"iconfont icon\">&#xe65b;</span>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n<script>\nexport default {\n  props: {\n    ifTitleAndMenuShow: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  methods: {\n    goHome() {\n      this.$router.push({ name: \"home\" });\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"../assets/styles/global\";\n.title-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 101;\n  width: 100%;\n  display: flex;\n  height: px2rem(48);\n  background: white;\n  box-shadow: 0 px2rem(8) px2rem(8) rgba(0, 0, 0, 0.15);\n  .left {\n    flex: 0 0 px2rem(60);\n    @include center;\n  }\n  .right {\n    flex: 1;\n    display: flex;\n    justify-content: flex-end;\n    .icon-wrapper {\n      flex: 0 0 px2rem(40);\n      @include center;\n      .icon-cart {\n        font-size: px2rem(22);\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TitleBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide-down\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifTitleAndMenuShow),expression:\"ifTitleAndMenuShow\"}],staticClass:\"title-wrapper\"},[_c('div',{staticClass:\"left\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.goHome}},[_c('span',{staticClass:\"iconfont icon\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"icon-wrapper icon\"},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"iconfont icon\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"iconfont icon\"},[_vm._v(\"\")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cba65df2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TitleBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cba65df2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TitleBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TitleBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TitleBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cba65df2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TitleBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cba65df2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TitleBar.vue\n// module id = null\n// module chunks = ","<template>\n    <transition name=\"slide-right\">\n        <div class=\"content\">\n            <div class=\"content-wrapper\" v-if=\"bookAvailable\">\n                <div class=\"content-item\" v-for=\"(item, index) in navigation.toc\" :key=\"index\"\n                    @click=\"jumpTo(item.href)\">\n                    <span class=\"text\">{{item.label}}</span>\n                </div>\n            </div>\n            <div class=\"empty\" v-else>Loading...</div>\n        </div>\n    </transition>\n</template>\n\n<script>\n\n    export default {\n        props: {\n            navigation: Object,\n            ifShowContent: Boolean,\n            bookAvailable: Boolean\n        },\n        methods: {\n            jumpTo(target) {\n                this.$emit('jumpTo', target);\n            }\n        }\n\n        \n    }\n</script>\n\n<style lang='scss' scoped>\n@import '../assets/styles/global';\n.content {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 102;\n    width: 80%;\n    height: 100%;\n    background-color: #fff;\n    .content-wrapper {\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n        .content-item {\n            padding: px2rem(20) px2rem(15);\n            border-bottom: px2rem(1) solid #ccc;\n            .text {\n                font-size: px2rem(14);\n                color: #333;\n            }\n        }\n    }\n    .empty {\n        width: 100%;\n        height: 100%;\n        @include center;\n        font-size: px2rem(16);\n        color: #333;\n    }\n}\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/content-view.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide-right\"}},[_c('div',{staticClass:\"content\"},[(_vm.bookAvailable)?_c('div',{staticClass:\"content-wrapper\"},_vm._l((_vm.navigation.toc),function(item,index){return _c('div',{key:index,staticClass:\"content-item\",on:{\"click\":function($event){return _vm.jumpTo(item.href)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.label))])])}),0):_c('div',{staticClass:\"empty\"},[_vm._v(\"Loading...\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-259cc89f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/content-view.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-259cc89f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./content-view.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./content-view.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./content-view.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-259cc89f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./content-view.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-259cc89f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/content-view.vue\n// module id = null\n// module chunks = ","<template>\n\t<div class=\"menu-bar\">\n\t\t<transition name=\"slide-up\">\t\t\n\t\t\t<div class=\"menu-wrapper\" :class=\"{'hide-box-shadow':ifSettingShow || !ifTitleAndMenuShow}\" v-show=\"ifTitleAndMenuShow\">\n\t\t\t\t<div class=\"icon-wrapper\">\n\t\t\t\t\t<span class=\"iconfont icon icon-menu\" @click=\"showSetting(3)\">&#xe655;</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"icon-wrapper\">\n\t\t\t\t\t<span class=\"iconfont icon icon-progress\" @click=\"showSetting(2)\">&#xe600;</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"icon-wrapper\">\n\t\t\t\t\t<span class=\"iconfont icon icon-bright\" @click=\"showSetting(1)\">&#xe614;</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"icon-wrapper\">\n\t\t\t\t\t<span class=\"iconfont icon icon-font\" @click=\"showSetting(0)\">&#xe64c;</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t\t<transition name=\"slide-up\">\n\t\t\t<div class=\"setting-wrapper\" v-show=\"ifSettingShow\">\n\t\t\t\t<div class=\"setting-font-size\" v-if=\"showTag === 0\">\n\t\t\t\t\t<div class=\"preview\" :style=\"{fontSize:fontSizeList[0].fontSize + 'px'}\">A</div>\n\t\t\t\t\t<div class=\"select\">\n\t\t\t\t\t\t<div class=\"select-wrapper\" \n\t\t\t\t\t\tv-for=\"(item,index) in fontSizeList\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t@click=\"setFontSize(item.fontSize)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"line\"></div>\n\t\t\t\t\t\t\t<div class=\"point-wrapper\">\n\t\t\t\t\t\t\t\t<div class=\"point\" v-show=\"defaultFontSize===item.fontSize\">\n\t\t\t\t\t\t\t\t\t<div class=\"small-point\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"line\"></div>\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"preview\" :style=\"{fontSize:fontSizeList[fontSizeList.length - 1].fontSize + 'px'}\">A</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"setting-theme\" v-else-if=\"showTag === 1\">\n\t\t\t\t\t<div class=\"setting-theme-item\" v-for=\"(item,index) in themeList\" :key=\"index\" @click=\"setTheme(index)\">\n\t\t\t\t\t\t<div class=\"preview\" :style=\"{background:item.style.body.background}\" :class=\"{'no-border':item.style.body.background !== '#fff'}\"></div>\n\t\t\t\t\t\t<div class=\"text\" :class=\"{'selected':index === defaultTheme}\">{{item.name}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"setting-progress\" v-else-if=\"showTag === 2\">\n\t\t\t\t\t<div class=\"progress-wrapper\">\n\t\t\t\t\t\t<input class=\"progress\" type=\"range\"\n\t\t\t\t\t\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tstep=\"1\"\n\t\t\t\t\t\t\t\t\t\t\t\t@change=\"onProgressChange($event.target.value)\"\n\t\t\t\t\t\t\t\t\t\t\t\t@input=\"onProgressInput($event.target.value)\"\n\t\t\t\t\t\t\t\t\t\t\t\t:value=\"progress\"\n\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!bookAvailable\"\n\t\t\t\t\t\t\t\t\t\t\t\tref=\"progress\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-wrapper\">\n\t\t\t\t\t\t<span>{{bookAvailable ? progress + '%' : 'loading...'}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t\t<content-view \n\t\t :ifShowContent=\"ifShowContent\"\n\t     v-show=\"ifShowContent\"\n\t     :navigation=\"navigation\"\n\t     :bookAvailable=\"bookAvailable\"\n\t     @jumpTo=\"jumpTo\">\n\t\t</content-view>\n\t    <transition name=\"fade\">\n\t      <div class=\"content-mask\" v-show=\"ifShowContent\" @click=\"hideContent\"></div>\n\t    </transition>\n\t</div>\n</template>\n<script>\nimport contentView from '@/components/content-view'\nexport default {\n\tcomponents:{\n\t\tcontentView,\n\t},\n\tprops:{\n\t\tifTitleAndMenuShow:{\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tfontSizeList: Array,\n\t\tdefaultFontSize: Number,\n\t\tthemeList: Array,\n\t\tdefaultTheme: Number,\n\t\tbookAvailable:{\n\t\t\ttype:Boolean,\n\t\t\tdefault:false,\n\t\t},\n\t\tnavigation:Object,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tifSettingShow: false,\n\t\t\tshowTag: 0,\n\t\t\tprogress: 0,\n\t\t\tifShowContent: false,\n\t\t}\n\t},\n\tmethods:{\n\t\tshowSetting (tag) {\n\t\t\tthis.ifSettingShow=true;\n\t\t\tthis.showTag = tag;\n\t\t\tif(this.showTag === 3){\n\t\t\t\tthis.ifSettingShow = false;\n\t\t\t\tthis.ifShowContent = true;\n\t\t\t}else{\n\t\t\t\tthis.ifSettingShow = true;\n\t\t\t}\n\t\t},\n\t\thideSetting () {\n\t\t\tthis.ifSettingShow = false;\n\t\t},\n\t\tsetFontSize (fontSize) {\n\t\t\tthis.$emit('setFontSize',fontSize);\n\t\t},\n\t\tsetTheme (index) {\n\t\t\tthis.$emit('setTheme',index);\n\t\t},\n\t\t//拖动进度条时触发事件\n\t\tonProgressInput(progress) {\n            this.progress = progress;\n            this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\n       },\n       //进度条松开后触发事件，根据进度条数值跳转到指定位置\n       onProgressChange(progress) {\n            this.$emit('onProgressChange', progress);\n        },\n       jumpTo (target) {\n       \t\tthis.$emit('jumpTo',target);\n       },\n       hideContent () {\n       \t\tthis.ifShowContent = false;\n       },\n\t}\t\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '../assets/styles/global';\n\n.menu-bar {\n\t.menu-wrapper {\n\t\t\tposition:absolute;\n\t\t\tbottom:0;\n\t\t\tleft:0;\n\t\t\tz-index:101;\n\t\t\tdisplay:flex;\n\t\t\twidth:100%;\n\t\t\theight:px2rem(48);\n\t\t\tbackground:white;\n\t\t\tbox-shadow: 0 px2rem(-8) px2rem(8) rgba(0,0,0,.15);\n\t\t\t&.hide-box-shadow {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\t\t\t.icon-wrapper {\n\t\t\t\tflex:1;\n\t\t\t\t@include center;\n\t\t\t\t.icon-progress {\n\t\t\t\t\tfont-size:px2rem(28)\n\t\t\t\t}\n\t\t\t\t.icon-bright {\n\t\t\t\t\tfont-size:px2rem(24)\n\t\t\t\t}\n\t\t\t}\t\n\t}\n\t.setting-wrapper {\n\t\tposition:absolute;\n\t\tbottom: px2rem(48);\n\t\tleft:0;\n\t\tz-index:101;\n\t\twidth:100%;\n\t\theight: px2rem(60);\n\t\tbackground:white;\n\t\tbox-shadow: 0 px2rem(-8) px2rem(8) rgba(0, 0, 0, .15);\n\t\t.setting-font-size {\n\t\t\tdisplay: flex;\n\t\t\theight:100%;\n\t\t\t.preview {\n\t\t\t\tflex: 0 0 px2rem(40);\n\t\t\t\t// background:red;\n\t\t\t\t@include center;\n\t\t\t}\n\t\t\t.select {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex: 1;\n\t\t\t\n\t\t\t\t.select-wrapper {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\t// background:yellow;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items:center;  //居中显示横线\n\t\t\t\t\t/*实际上被编译成:.select-wrapper:first-child .line:first-child*/\n\t\t\t\t\t/*意思是查找第一个select-wrapper类的第一个.line线*/\n\t\t\t\t\t&:first-child {\n\t\t\t\t\t\t.line {\n\t\t\t\t\t\t\t&:first-child {\n\t\t\t\t\t\t\t\tborder-top:none;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t&:last-child {\n\t\t\t\t\t\t.line {\n\t\t\t\t\t\t\t&:last-child {\n\t\t\t\t\t\t\t\tborder-top:none;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.line {\n\t\t\t\t\t\tflex:1;\n\t\t\t\t\t\theight:0;\n\t\t\t\t\t\tborder-top: px2rem(1) solid #ccc;\n\t\t\t\t\t}\n\t\t\t\t\t.point-wrapper {\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\tflex: 0 0 0;\n\t\t\t\t\t\twidth: 0;\n\t\t\t\t\t\theight: px2rem(7);\n\t\t\t\t\t\tborder-left:px2rem(1) solid #ccc;\n\t\t\t\t\t\t.point {\t\t/*外层圆球*/\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\ttop:px2rem(-8);\t\t//圆球位置\n\t\t\t\t\t\t\tleft:px2rem(-10);\n\t\t\t\t\t\t\twidth:px2rem(20);\n\t\t\t\t\t\t\theight:px2rem(20);\n\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\tborder: px2rem(1) solid #ccc;\n\t\t\t\t\t\t\tbox-shadow: 0 px2rem(4) px2rem(4) rgba(0,0,0,.15);\n\t\t\t\t\t\t\t@include center;\n\t\t\t\t\t\t\t.small-point {\t/*内层圆球*/\n\t\t\t\t\t\t\t\twidth:px2rem(5);\n\t\t\t\t\t\t\t\theight:px2rem(5);\n\t\t\t\t\t\t\t\tbackground:black;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.setting-theme {\n\t\t\theight:100%;\n\t\t\tdisplay:flex;\n\t\t\t.setting-theme-item {\n\t\t\t\tflex:1;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t\tpadding:px2rem(5);\n\t\t\t\tbox-sizing:border-box;\n\t\t\t\t.preview {\n\t\t\t\t\tflex:1;\n\t\t\t\t\tborder:px2rem(1) solid #ccc;\n\t\t\t\t\tbox-sizing:border-box;\n\t\t\t\t\t&.no-border {\n\t\t\t\t\t\tborder:none;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.text {\n\t\t\t\t\tflex:0 0 px2rem(20);\n\t\t\t\t\tfont-size:px2rem(14);\n\t\t\t\t\tcolor:#999;\n\t\t\t\t\t@include center;\n\t\t\t\t\t&.selected {\n\t\t\t\t\t\tcolor:#333;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.setting-progress {\n\t\t\tposition:relative;\n\t\t\twidth:100%;\n\t\t\theight:100%;\n\t\t\t.progress-wrapper {\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\t@include center;\n\t\t\t\tpadding:0 px2rem(30);\n\t\t\t\tbox-sizing:border-box;\n\t\t\t\t.progress {\n\t\t\t\t\twidth:100%;\n\t\t\t\t\t/* cover default CSS */\n\t\t\t\t\t-webkit-appearance:none;\n\t\t\t\t\theight:px2rem(2);\n\t\t\t\t\tbackground:-webkit-linear-gradient(#999,#999) no-repeat #ddd;\n\t\t\t\t\tbackground-size:0 100%;\n\t\t\t\t\t&:focus {\n\t\t\t\t\t\toutline:none;\n\t\t\t\t\t}\n\t\t\t\t\t&::-webkit-slider-thumb {\n                        -webkit-appearance: none;\n                        height: px2rem(20);\n                        width: px2rem(20);\n                        border-radius: 50%;\n                        background: #fff;\n                        border: px2rem(1) solid #ddd;\n                        box-shadow: 0 4px 4px 0 rgba(0, 0, 0, .15);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//show percentage fontsize\n\t\t\t.text-wrapper {\n\t\t        position: absolute;\n\t\t        left: 0;\n\t\t        bottom: 0;\n\t\t        width: 100%;\n\t\t        color: #333;\n\t\t        font-size: px2rem(22);\n\t\t        text-align: center;\n\t\t        span {\n                    font-size: px2rem(14);\n                    @include center;\n                }\n\t        }\n\t\t}\n\t}\n    .content-mask {\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 101;\n        display: flex;\n        width: 100%;\n        height: 100%;\n        background: rgba(51, 51, 51, .8);\n    }\n}\n\n\t\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/MenuBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-bar\"},[_c('transition',{attrs:{\"name\":\"slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifTitleAndMenuShow),expression:\"ifTitleAndMenuShow\"}],staticClass:\"menu-wrapper\",class:{'hide-box-shadow':_vm.ifSettingShow || !_vm.ifTitleAndMenuShow}},[_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"iconfont icon icon-menu\",on:{\"click\":function($event){return _vm.showSetting(3)}}},[_vm._v(\"\")])]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"iconfont icon icon-progress\",on:{\"click\":function($event){return _vm.showSetting(2)}}},[_vm._v(\"\")])]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"iconfont icon icon-bright\",on:{\"click\":function($event){return _vm.showSetting(1)}}},[_vm._v(\"\")])]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"iconfont icon icon-font\",on:{\"click\":function($event){return _vm.showSetting(0)}}},[_vm._v(\"\")])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifSettingShow),expression:\"ifSettingShow\"}],staticClass:\"setting-wrapper\"},[(_vm.showTag === 0)?_c('div',{staticClass:\"setting-font-size\"},[_c('div',{staticClass:\"preview\",style:({fontSize:_vm.fontSizeList[0].fontSize + 'px'})},[_vm._v(\"A\")]),_vm._v(\" \"),_c('div',{staticClass:\"select\"},_vm._l((_vm.fontSizeList),function(item,index){return _c('div',{key:index,staticClass:\"select-wrapper\",on:{\"click\":function($event){return _vm.setFontSize(item.fontSize)}}},[_c('div',{staticClass:\"line\"}),_vm._v(\" \"),_c('div',{staticClass:\"point-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.defaultFontSize===item.fontSize),expression:\"defaultFontSize===item.fontSize\"}],staticClass:\"point\"},[_c('div',{staticClass:\"small-point\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"line\"})])}),0),_vm._v(\" \"),_c('div',{staticClass:\"preview\",style:({fontSize:_vm.fontSizeList[_vm.fontSizeList.length - 1].fontSize + 'px'})},[_vm._v(\"A\")])]):(_vm.showTag === 1)?_c('div',{staticClass:\"setting-theme\"},_vm._l((_vm.themeList),function(item,index){return _c('div',{key:index,staticClass:\"setting-theme-item\",on:{\"click\":function($event){return _vm.setTheme(index)}}},[_c('div',{staticClass:\"preview\",class:{'no-border':item.style.body.background !== '#fff'},style:({background:item.style.body.background})}),_vm._v(\" \"),_c('div',{staticClass:\"text\",class:{'selected':index === _vm.defaultTheme}},[_vm._v(_vm._s(item.name))])])}),0):(_vm.showTag === 2)?_c('div',{staticClass:\"setting-progress\"},[_c('div',{staticClass:\"progress-wrapper\"},[_c('input',{ref:\"progress\",staticClass:\"progress\",attrs:{\"type\":\"range\",\"max\":\"100\",\"min\":\"0\",\"step\":\"1\",\"disabled\":!_vm.bookAvailable},domProps:{\"value\":_vm.progress},on:{\"change\":function($event){return _vm.onProgressChange($event.target.value)},\"input\":function($event){return _vm.onProgressInput($event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"text-wrapper\"},[_c('span',[_vm._v(_vm._s(_vm.bookAvailable ? _vm.progress + '%' : 'loading...'))])])]):_vm._e()])]),_vm._v(\" \"),_c('content-view',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifShowContent),expression:\"ifShowContent\"}],attrs:{\"ifShowContent\":_vm.ifShowContent,\"navigation\":_vm.navigation,\"bookAvailable\":_vm.bookAvailable},on:{\"jumpTo\":_vm.jumpTo}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifShowContent),expression:\"ifShowContent\"}],staticClass:\"content-mask\",on:{\"click\":_vm.hideContent}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c9c3aba8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MenuBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c9c3aba8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MenuBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c9c3aba8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MenuBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c9c3aba8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MenuBar.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"ebook\">\n    <title-bar :ifTitleAndMenuShow=\"ifTitleAndMenuShow\"></title-bar>\n    <div class=\"read-wrapper\">\n      <div class=\"mask\">\n        <div class=\"left\" @click=\"prevPage\"></div>\n        <div id=\"center\" class=\"center\" @click=\"toggleTitleAndMenu\"></div>\n        <div class=\"right\" @click=\"nextPage\"></div>\n      </div>\n\n      <div id=\"read\"></div>\n    </div>\n    <menu-bar\n      :ifTitleAndMenuShow=\"ifTitleAndMenuShow\"\n      :fontSizeList=\"fontSizeList\"\n      :defaultFontSize=\"defaultFontSize\"\n      @setFontSize=\"setFontSize\"\n      :themeList=\"themeList\"\n      :defaultTheme=\"defaultTheme\"\n      @setTheme=\"setTheme\"\n      :bookAvailable=\"bookAvailable\"\n      @onProgressChange=\"onProgressChange\"\n      :navigation=\"navigation\"\n      @jumpTo=\"jumpTo\"\n      ref=\"menuBar\"\n    ></menu-bar>\n  </div>\n</template>\n\n<script>\nimport localForage from \"localForage\";\nimport Epub from \"epubjs\";\n\nimport TitleBar from \"@/components/TitleBar\";\nimport MenuBar from \"@/components/MenuBar\";\n\nexport default {\n  components: {\n    TitleBar,\n    MenuBar\n  },\n  data() {\n    return {\n      currentBookName: \"\",\n      ifTitleAndMenuShow: false,\n      fontSizeList: [\n        { fontSize: 12 },\n        { fontSize: 14 },\n        { fontSize: 16 },\n        { fontSize: 18 },\n        { fontSize: 20 },\n        { fontSize: 22 },\n        { fontSize: 24 }\n      ],\n      defaultFontSize: 16,\n      themeList: [\n        {\n          name: \"default\",\n          style: {\n            body: {\n              color: \"#000\",\n              background: \"#fff\"\n            }\n          }\n        },\n        {\n          name: \"eye\",\n          style: {\n            body: {\n              color: \"#000\",\n              background: \"#ceeaba\"\n            }\n          }\n        },\n        {\n          name: \"night\",\n          style: {\n            body: {\n              color: \"#fff\",\n              background: \"#000\"\n            }\n          }\n        },\n        {\n          name: \"gold\",\n          style: {\n            body: {\n              color: \"#000\",\n              background: \"rgb(241,236,226)\"\n            }\n          }\n        }\n      ],\n      defaultTheme: 0,\n      bookAvailable: false,\n      navigation: null\n    };\n  },\n  methods: {\n    //电子书的解析和渲染\n    async showEpub() {\n      //解析电子书,生成Book对象\n      this.book = new Epub();\n\n      let bookName = this.$route.query.bookName || void 0;\n      this.currentBookName = bookName;\n\n      let arrayBuffer = await localForage.getItem(bookName);\n\n      if (!arrayBuffer) {\n        alert(\"Book not exists.\");\n        this.$router.push({ name: \"home\" });\n      }\n\n      let readBox = document.getElementById(\"center\");\n\n      this.book.open(arrayBuffer);\n\n      //通过Book.renderTo生成Rendition对象(对象名不唯一)\n      this.rendition = this.book.renderTo(\"read\", {\n        //第一个参数是div的id\n        width: readBox.offsetWidth,\n        height: readBox.offsetHeight,\n        allowScriptedContent: true\n      });\n\n      let cfi = this.$route.query.cfi || void 0;\n      this.rendition.display(cfi);\n\n      //获取Theme对象\n      this.themes = this.rendition.themes;\n      //设置默认字体\n      this.setFontSize(this.defaultFontSize);\n      /*thems的俩个方法:\n\t\t\t\t主题注册:this.themes.register(name,styles)\n\t\t\t\t主题切换:this.themes.select(name)\n\t\t\t*/\n      this.registerTheme();\n      this.setTheme(this.defaultTheme);\n      //获取Locations对象\n      //通过epubjs钩子函数来实现电子书定位\n      this.book.ready\n        .then(() => {\n          //生成目录\n          this.navigation = this.book.navigation;\n\n          return this.book.locations.generate();\n        })\n        .then(result => {\n          this.locations = this.book.locations;\n          // this.onProgressChange(50); //实现跳转到百分之50的位置\n          this.bookAvailable = true;\n\n          this.listenIframeEvent();\n        });\n    },\n\n    listenIframeEvent() {\n      let frame = window.frames[0];\n\n      if (frame.clicked) return;\n\n      console.log(\"add event\");\n\n      frame.clicked = true;\n\n      frame.addEventListener(\"click\", e => {\n        console.log(\"clicked\");\n        this.toggleTitleAndMenu();\n      });\n    },\n\n    async prevPage() {\n      await this.rendition.prev();\n      this.updateCfi();\n    },\n\n    async nextPage() {\n      await this.rendition.next();\n      this.updateCfi();\n    },\n    //标题栏和菜单栏\n    toggleTitleAndMenu() {\n      //切换\n      this.ifTitleAndMenuShow = !this.ifTitleAndMenuShow;\n      if (!this.ifTitleAndMenuShow) {\n        //ref 加在子组件上,获取到的是组件实例,可以使用组件的所有方法,this.$refs.(ref值).组件方法,。\n        this.$refs.menuBar.hideSetting();\n      }\n    },\n    //设置字体大小切换\n    setFontSize(fontSize) {\n      this.defaultFontSize = fontSize;\n      if (this.themes) {\n        this.themes.fontSize(fontSize + \"px\");\n      }\n    },\n    registerTheme() {\n      this.themeList.forEach(theme => {\n        //注册全部主题颜色样式\n        this.themes.register(theme.name, theme.style);\n      });\n    },\n    setTheme(index) {\n      //切换主题\n      this.themes.select(this.themeList[index].name);\n      this.defaultTheme = index;\n    },\n    //propress进度条的数值(0-100)\n    onProgressChange(progress) {\n      const percentage = progress / 100;\n      const location =\n        percentage > 0 ? this.locations.cfiFromPercentage(percentage) : 0;\n      this.rendition.display(location);\n    },\n    hideTitleAndMenu() {\n      //隐藏标题栏和菜单栏\n      this.ifTitleAndMenuShow = false;\n      //隐藏菜单栏弹出的设置栏\n      this.$refs.menuBar.hideSetting();\n      //隐藏目录\n      this.$refs.menuBar.hideContent();\n    },\n    //根据链接跳转到指定位置(目录)\n    async jumpTo(href) {\n      await this.rendition.display(href);\n\n      this.updateCfi();\n\n      this.hideTitleAndMenu();\n\n      this.listenIframeEvent();\n    },\n\n    updateCfi() {\n      let location = this.rendition.currentLocation();\n      let cfiString = location.start.cfi;\n\n      this.$router.replace({\n        query: { cfi: cfiString, bookName: this.currentBookName }\n      });\n\n      this.listenIframeEvent();\n    }\n  },\n\n  mounted() {\n    // 等待父组件 mounted\n    setTimeout(() => {\n      this.showEpub();\n    }, 0);\n\n    var keyListener = e => {\n      // Left Key\n      if ((e.keyCode || e.which) == 37) {\n        this.prevPage();\n      }\n\n      // Right Key\n      if ((e.keyCode || e.which) == 39) {\n        this.nextPage();\n      }\n    };\n\n    document.addEventListener(\"keyup\", keyListener, false);\n  }\n};\n</script>\n\n<style>\n.ebook .epub-container {\n  margin: 0 auto;\n\n  border: 1px dashed greenyellow;\n  border-top: none;\n  border-bottom: none;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n$fontSize: 37.5;\n\n@function px2rem($px) {\n  @return ($px / $fontSize) + rem;\n}\n\n@mixin center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.ebook {\n  position: relative;\n\n  .read-wrapper {\n    .mask {\n      position: absolute;\n      top: 0;\n      left: 0;\n      display: flex;\n      width: 100%;\n      height: 100%;\n\n      .left {\n        flex: 0 0 px2rem(100);\n      }\n\n      .center {\n        flex: 1;\n      }\n\n      .right {\n        flex: 0 0 px2rem(100);\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/Ebook.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ebook\"},[_c('title-bar',{attrs:{\"ifTitleAndMenuShow\":_vm.ifTitleAndMenuShow}}),_vm._v(\" \"),_c('div',{staticClass:\"read-wrapper\"},[_c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"left\",on:{\"click\":_vm.prevPage}}),_vm._v(\" \"),_c('div',{staticClass:\"center\",attrs:{\"id\":\"center\"},on:{\"click\":_vm.toggleTitleAndMenu}}),_vm._v(\" \"),_c('div',{staticClass:\"right\",on:{\"click\":_vm.nextPage}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"read\"}})]),_vm._v(\" \"),_c('menu-bar',{ref:\"menuBar\",attrs:{\"ifTitleAndMenuShow\":_vm.ifTitleAndMenuShow,\"fontSizeList\":_vm.fontSizeList,\"defaultFontSize\":_vm.defaultFontSize,\"themeList\":_vm.themeList,\"defaultTheme\":_vm.defaultTheme,\"bookAvailable\":_vm.bookAvailable,\"navigation\":_vm.navigation},on:{\"setFontSize\":_vm.setFontSize,\"setTheme\":_vm.setTheme,\"onProgressChange\":_vm.onProgressChange,\"jumpTo\":_vm.jumpTo}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-83234938\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Ebook.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-83234938\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Ebook.vue\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-83234938\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=1!./Ebook.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Ebook.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Ebook.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-83234938\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Ebook.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-83234938\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Ebook.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"container\">\n    <template v-for=\"(value, index) in allBooks\">\n      <div :key=\"value + '-outer'\">\n        <div :key=\"value\" :id=\"'viewer-' + index\"></div>\n\n        <button @click=\"readThisBook(value)\">Read</button>\n      </div>\n    </template>\n\n    <div>\n      Add new book.\n      <input @change=\"change\" type=\"file\" />\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.container {\n  display: grid;\n  grid-template-columns: repeat(2, 50%);\n}\n</style>\n\n<script>\nimport Epub from \"epubjs\";\nimport localForage from \"localForage\";\n\nexport default {\n  data() {\n    return {\n      allBooks: []\n    };\n  },\n  async mounted() {\n    let allBooks = await localForage.keys();\n    this.allBooks = allBooks;\n    console.log(allBooks);\n\n    for (let i = 0; i < allBooks.length; i++) {\n      this.renderBook(i, allBooks[i]);\n    }\n  },\n  methods: {\n    readThisBook(bookName) {\n      console.log(bookName, \"----\");\n      this.$router.push({ path: \"ebook\", query: { bookName } });\n    },\n    async renderBook(key, value) {\n      let book = new Epub();\n\n      let arrayBuffer = await localForage.getItem(value);\n\n      book.open(arrayBuffer);\n\n      let rendition = book.renderTo(\"viewer-\" + key, {\n        width: \"100%\",\n        height: 600\n      });\n\n      rendition.display();\n    },\n    change(e) {\n      var file = e.target.files[0];\n      console.log(file);\n\n      let key = file.name;\n\n      var reader = new FileReader();\n      reader.onload = openBook;\n      reader.readAsArrayBuffer(file);\n\n      let book = new Epub();\n\n      async function openBook(e) {\n        var bookData = e.target.result;\n\n        await localForage.setItem(key, bookData);\n\n        let fromdb = await localForage.getItem(key);\n\n        location.reload();\n\n        book.open(fromdb);\n\n        let rendition = book.renderTo(\"viewer\", {\n          width: \"100%\",\n          height: 600\n        });\n\n        rendition.display();\n      }\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._l((_vm.allBooks),function(value,index){return [_c('div',{key:value + '-outer'},[_c('div',{key:value,attrs:{\"id\":'viewer-' + index}}),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.readThisBook(value)}}},[_vm._v(\"Read\")])])]}),_vm._v(\" \"),_c('div',[_vm._v(\"\\n    Add new book.\\n    \"),_c('input',{attrs:{\"type\":\"file\"},on:{\"change\":_vm.change}})])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29dc46be\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29dc46be\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29dc46be\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-29dc46be\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Home.vue\n// module id = null\n// module chunks = ","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport Ebook from \"@/Ebook.vue\";\nimport Home from \"@/Home.vue\";\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      name: \"home\",\n      path: \"/\",\n      component: Home\n    },\n    {\n      path: \"/ebook\",\n      component: Ebook\n    }\n  ]\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport './assets/styles/iconfont.css'\nimport './assets/styles/global.scss'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}